@startuml Technology_Stack_CipeStudio

!define LIGHTBLUE #E3F2FD
!define LIGHTGREEN #E8F5E9
!define LIGHTYELLOW #FFF9C4
!define LIGHTPINK #FCE4EC
!define LIGHTPURPLE #F3E5F5

skinparam componentStyle rectangle

package "Frontend Stack" LIGHTBLUE {
  component [React 19.0.0] as React {
    note bottom
      **Bibliothèque UI** :
      • Composants réutilisables
      • Virtual DOM
      • Hooks (useState, useEffect, etc.)
    end note
  }

  component [Vite 7.0.2] as Vite {
    note bottom
      **Build Tool** :
      • Dev server ultra-rapide (HMR)
      • Build optimisé (Rollup)
      • ES Modules natifs
    end note
  }

  component [React Router v7] as Router {
    note bottom
      **Routing** :
      • Navigation SPA
      • Routes protégées
      • Nested routes
    end note
  }

  component [TanStack Query] as ReactQuery {
    note bottom
      **State Management** :
      • Server state caching
      • Auto-refetch
      • Optimistic updates
    end note
  }

  component [Tailwind CSS 3.4.17] as Tailwind {
    note bottom
      **Styling** :
      • Utility-first CSS
      • JIT compilation
      • Responsive design
    end note
  }

  component [Heroicons] as Icons {
    note bottom
      **Icônes** :
      • SVG icons
      • React components
    end note
  }

  component [TuesdayJS] as Tuesday {
    note bottom
      **Éditeur visuel** :
      • Création de livres interactifs
      • Glisser-déposer
      • Mini-jeux intégrés
    end note
  }

  React --> Router
  React --> ReactQuery
  React --> Tailwind
  React --> Icons
  React --> Tuesday
  Vite --> React
}

package "Backend Stack" LIGHTGREEN {
  component [Spring Boot 3.5.9] as SpringBoot {
    note bottom
      **Framework Java** :
      • Auto-configuration
      • Embedded server (Tomcat)
      • Dependency Injection
    end note
  }

  component [Java 21 (LTS)] as Java {
    note bottom
      **Langage** :
      • Records
      • Pattern matching
      • Virtual threads (preview)
    end note
  }

  component [Spring Security] as Security {
    note bottom
      **Sécurité** :
      • OAuth2 Resource Server
      • JWT authentication
      • CSRF protection
    end note
  }

  component [Spring Data JPA] as JPA {
    note bottom
      **ORM** :
      • Repository pattern
      • Query derivation
      • Lazy loading
    end note
  }

  component [Hibernate 6.x] as Hibernate {
    note bottom
      **Implémentation JPA** :
      • Entity mapping
      • @Formula calculations
      • Batch processing
    end note
  }

  component [Lombok] as Lombok {
    note bottom
      **Code generation** :
      • @Data, @Builder
      • @Slf4j (logging)
      • Reduce boilerplate
    end note
  }

  component [MapStruct] as MapStruct {
    note bottom
      **DTO Mapping** :
      • Compile-time mapping
      • Type-safe
      • Performance optimisé
    end note
  }

  component [Jakarta Validation] as Validation {
    note note
      **Validation** :
      • @NotNull, @Size, @Email
      • Bean Validation 3.0
    end note
  }

  SpringBoot --> Java
  SpringBoot --> Security
  SpringBoot --> JPA
  JPA --> Hibernate
  SpringBoot --> Lombok
  SpringBoot --> MapStruct
  SpringBoot --> Validation
}

package "Database & Storage" LIGHTYELLOW {
  database [MySQL 8.0] as MySQL {
    note bottom
      **RDBMS** :
      • Transactions ACID
      • Foreign keys
      • Indexes
      • Full-text search
    end note
  }

  component [HikariCP] as Hikari {
    note bottom
      **Connection Pool** :
      • Ultra-rapide
      • Minimal overhead
      • Auto-configuration Spring
    end note
  }

  cloud [SeaweedFS] as SeaweedFS {
    note bottom
      **Object Storage (S3)** :
      • S3-compatible API
      • Distributed storage
      • High performance
    end note
  }

  MySQL --> Hikari
  Hibernate --> Hikari
}

package "DevOps & Tools" LIGHTPINK {
  component [Docker] as Docker {
    note bottom
      **Containerization** :
      • Multi-stage builds
      • docker-compose.yml
      • Isolation des services
    end note
  }

  component [GitLab CI/CD] as GitLab {
    note bottom
      **CI/CD** :
      • Pipeline automatisé
      • 5 stages
      • Auto-deployment
    end note
  }

  component [Nginx] as Nginx {
    note bottom
      **Reverse Proxy** :
      • Serve frontend static
      • Proxy API backend
      • Gzip compression
    end note
  }

  component [Maven 3.9.9] as Maven {
    note bottom
      **Build Tool (Backend)** :
      • Dependency management
      • Build lifecycle
      • Plugins (compiler, surefire)
    end note
  }

  component [npm] as NPM {
    note bottom
      **Package Manager (Frontend)** :
      • Dependency management
      • Scripts (dev, build)
    end note
  }

  Docker --> MySQL
  Docker --> SeaweedFS
  Docker --> SpringBoot
  Docker --> Nginx
  GitLab --> Maven
  GitLab --> NPM
  Maven --> SpringBoot
  NPM --> Vite
}

package "Testing Tools" LIGHTPURPLE {
  component [JUnit 5] as JUnit {
    note bottom
      **Unit Testing (Backend)** :
      • @Test, @ParameterizedTest
      • Assertions
      • Lifecycle (@BeforeEach, etc.)
    end note
  }

  component [Mockito] as Mockito {
    note bottom
      **Mocking** :
      • Mock dependencies
      • Verify interactions
      • Stub methods
    end note
  }

  component [Bruno CLI] as Bruno {
    note bottom
      **API Testing** :
      • Integration tests
      • Collection de requêtes
      • CI/CD integration
    end note
  }

  component [Vitest (Recommandé)] as Vitest {
    note bottom
      **Unit Testing (Frontend)** :
      • Vite-native
      • Fast execution
      • Jest-compatible API
    end note
  }

  JUnit --> Mockito
  GitLab --> JUnit
  GitLab --> Bruno
}

package "External Services" {
  cloud [SMTP Server] as SMTP {
    note bottom
      **Email Service** :
      • OTP emails
      • Notifications
      • Spring Mail
    end note
  }

  SpringBoot --> SMTP
}

' Connections entre packages
Frontend --> Backend : "REST API\n(HTTP/JSON)"
Backend --> MySQL
Backend --> SeaweedFS
Backend --> SMTP

legend right
  **Stack Technique Cipe Studio** :

  **Frontend** :
  • React 19 + Vite 7 (UI moderne et rapide)
  • TanStack Query (state management serveur)
  • React Router v7 (routing SPA)
  • Tailwind CSS (styling utility-first)
  • TuesdayJS (éditeur visuel de livres)

  **Backend** :
  • Spring Boot 3.5.9 + Java 21 (framework robuste)
  • Spring Security + JWT (authentification)
  • Spring Data JPA + Hibernate (ORM)
  • Lombok + MapStruct (productivité)

  **Database & Storage** :
  • MySQL 8.0 (base relationnelle)
  • HikariCP (connection pooling)
  • SeaweedFS (stockage S3 d'images/JSON)

  **DevOps** :
  • Docker + Docker Compose (containers)
  • GitLab CI/CD (pipeline automatisé)
  • Nginx (reverse proxy)

  **Testing** :
  • JUnit 5 + Mockito (tests unitaires backend)
  • Bruno CLI (tests d'intégration API)
  • Vitest (tests frontend - recommandé)
endlegend

note bottom
  **Justification des choix technologiques** :

  **React + Vite** vs Next.js :
  • Plus de flexibilité (pas d'opinions fortes)
  • Courbe d'apprentissage plus douce
  • Build time < 5s vs ~30s pour Next.js
  • Pas besoin de SSR pour cette application

  **Spring Boot** vs Node.js/Express :
  • Typage fort (Java vs JavaScript)
  • Écosystème mature (Spring Security, JPA)
  • Performance pour opérations CPU-intensives
  • Meilleure gestion de la concurrence (threads)

  **MySQL** vs PostgreSQL/MongoDB :
  • Familiarité de l'équipe
  • Relations complexes bien gérées
  • Performance suffisante
  • Large communauté et documentation

  **SeaweedFS** vs AWS S3/MinIO :
  • S3-compatible (migration facile)
  • Performance excellente
  • Self-hosted (pas de coûts AWS)
  • Simple à déployer avec Docker
end note

@enduml
