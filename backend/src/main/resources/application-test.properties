# ==========================================
# 1. BASE DE DONNEES (H2 - En memoire)
# ==========================================
# DB_CLOSE_DELAY=-1 : La base reste vivante tant que l'app tourne.

spring.datasource.url=jdbc:h2:mem:cipetestdb;DB_CLOSE_DELAY=-1;MODE=MySQL
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# Dialecte Hibernate pour H2
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Creation automatique des tables au demarrage, puis suppression a l'arret
spring.jpa.hibernate.ddl-auto=create-drop

# Affiche les requetes SQL
spring.jpa.show-sql=true

# ==========================================
# 2. VARIABLES DE CONFIGURATION (OBLIGATOIRES)
# ==========================================
jwt.secret=CleSecretePourLesTestsDeCipeStudio1234567890
cors.allowed-origins=http://localhost:3000
jwt.cookie-secure=false
jwt.cookie-same-site=Lax

# ==========================================
# 3. CONFIGURATION EMAIL (bidon)
# ==========================================
spring.mail.host=localhost
spring.mail.port=1025
spring.mail.username=user
spring.mail.password=password
spring.mail.protocol=smtp
spring.mail.test-connection=false

# Timeouts tres courts : Si l'app essaie d'envoyer un mail,
# elle echouera vite (ou passera) sans bloquer le test pendant 30 secondes.
spring.mail.properties.mail.smtp.connectiontimeout=100
spring.mail.properties.mail.smtp.timeout=100
spring.mail.properties.mail.smtp.writetimeout=100

# ==========================================
# 4. SERVEUR
# ==========================================
# On force le port 8080 pour etre sur que Bruno tape au bon endroit
server.port=8080

# ==========================================
# 5. MINIO
# ==========================================
seaweedfs.endpoint=http://localhost:9000
seaweedfs.access-key=test-access-key
seaweedfs.secret-key=test-secret-key
seaweedfs.bucket-name=test-bucket
seaweedfs.public-url=http://localhost:9000